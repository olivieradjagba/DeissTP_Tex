(window["webpackJsonp-global-nav"]=window["webpackJsonp-global-nav"]||[]).push([[2],{"0//s":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"5lmq":function(e,t,n){"use strict";var i=n("Hwvx");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function _arrayWithoutHoles(e){if(Array.isArray(e))return(0,r.default)(e)};var r=i(n("4588"))},qTF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},upjz:function(e,t,n){"use strict";var i=n("Hwvx");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function _toConsumableArray(e){return(0,r.default)(e)||(0,o.default)(e)||(0,s.default)(e)||(0,u.default)()};var r=i(n("5lmq")),o=i(n("qTF4")),s=i(n("U2vP")),u=i(n("0//s"))},yX0y:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var i,r=n("upjz"),o=n.n(r),s=n("g4DW"),u=n.n(s),a=n("prSB"),c=n.n(a),h=n("2bPg"),l=n.n(h),f=n("BRlI"),d=n.n(f),v=n("+lnk"),y=n("j1PE"),g=function(){function CyclicCounter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.MAX_SAFE_INTEGER;if(l()(this,CyclicCounter),this.counter=-1,this.upperLimit=Number.MAX_SAFE_INTEGER,null===e||e<0)throw new RangeError("Argument 'upperLimit' must be a positive number.");this.upperLimit=e}return d()(CyclicCounter,[{key:"value",get:function get(){return this.counter}},{key:"max",get:function get(){return this.upperLimit-1}},{key:"increment",value:function increment(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<1)throw new RangeError("Parameter 'value' (".concat(e,") must be a positive number."));return this.counter=(this.counter+e)%this.upperLimit,this.counter}},{key:"decrement",value:function decrement(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<1)throw new RangeError("Parameter 'value' (".concat(e,") must be a positive number."));this.counter=this.counter<0?0:this.counter;var t=this.counter-e;return this.counter=t<0?this.upperLimit+t:t,this}},{key:"reset",value:function reset(){this.counter=-1}}]),CyclicCounter}(),p=function(){function FocusRegion(e,t){l()(this,FocusRegion),this.listeners=new Set,this.name=e,this.getPosition=t}return d()(FocusRegion,[{key:"position",get:function get(){return this.getPosition()}},{key:"blur",value:function blur(){this.isFocused=!1,this.listeners.forEach((function(e){return e("blur")}))}},{key:"focus",value:function focus(){this.isFocused=!0,this.listeners.forEach((function(e){return e("focus")}))}},{key:"hasFocus",get:function get(){return this.isFocused}},{key:"addListener",value:function addListener(e){if("function"!=typeof e)throw new TypeError("listener must be a function");this.listeners.add(e)}},{key:"removeListener",value:function removeListener(e){this.listeners.delete(e)}},{key:"clearListeners",value:function clearListeners(){this.listeners.clear()}}]),FocusRegion}(),m=n("Rk5m"),b=n.n(m),w=function(){function Shortcut(e,t){l()(this,Shortcut),this.listeners=new Set,this.key=void 0,this.modifiers={},this.shortcuts=void 0,this.shortcuts=e,this.modifiers=t.map((function(e){return e.toLowerCase()})).filter((function(t){return e.isModifier(t)})).reduce((function(e,t){return c()(c()({},e),{},u()({},t,!0))}),{alt:!1,ctrl:!1,meta:!1,shift:!1}),this.key=t.map((function(e){return e.toLowerCase()})).filter((function(t){return!e.isModifier(t)})).reduce((function(e,t){return t}),null)}return d()(Shortcut,[{key:"isActive",get:function get(){return this.shortcuts.isKeyPressed(this.key)&&this.shortcuts.matchesModifiers(this.modifiers)}},{key:"notify",value:function notify(){var e={preventDefault:!1,stopPropagation:!1};return this.isActive&&this.listeners.forEach((function(t){var n=t()||{};e={preventDefault:!(!e.preventDefault&&!n.preventDefault),stopPropagation:!(!e.stopPropagation&&!n.stopPropagation)}})),e}},{key:"addListener",value:function addListener(e){this.listeners.add(e)}},{key:"removeListener",value:function removeListener(e){this.listeners.delete(e)}},{key:"clearListeners",value:function clearListeners(){this.listeners.clear()}}]),Shortcut}(),P=["alt","Command","ctrl","meta","shift"];var k=(i=function(){function KeyboardShortcuts(){l()(this,KeyboardShortcuts),this.activeKeys={},this.shortcuts={},this.currentEvent=null}return d()(KeyboardShortcuts,[{key:"handleKeyboardEvent",value:function handleKeyboardEvent(e){"keydown"===e.type&&this.handleKeydown(e)}},{key:"handleKeydown",value:function handleKeydown(e){var t=e.key;if(!e.repeat){var n=t.toLowerCase();this.activeKeys[n]=!0;var i=Object.values(this.shortcuts).reduce((function(e,t){var i=t.notify(n);return{preventDefault:!(!e.preventDefault&&!i.preventDefault),stopPropagation:!(!e.stopPropagation&&!i.stopPropagation)}}),{preventDefault:!1,stopPropagation:!1});i.preventDefault&&e.preventDefault(),i.stopPropagation&&e.stopPropagation()}}},{key:"isKeyPressed",value:function isKeyPressed(e){return e.toLowerCase()===this.currentEvent.key.toLowerCase()}},{key:"isModifier",value:function isModifier(e){return P.includes(e)}},{key:"matchesModifiers",value:function matchesModifiers(e){var t=e.alt,n=e.ctrl,i=e.meta,r=e.shift,o=this.currentEvent,s=o.altKey,u=o.ctrlKey,a=o.metaKey,c=o.shiftKey;return!!t==!!s&&!!n==!!u&&!!i==!!a&&!!r==!!c}},{key:"handle",value:function handle(e,t){var n=e.toLowerCase().split("+").sort(),i=n.join("+"),r=this.shortcuts[i]||new w(this,n);r.addListener(t),this.shortcuts[i]=r}}]),KeyboardShortcuts}(),b()(i.prototype,"handleKeydown",[function currentEvent(e,t,n){return c()(c()({},n),{},{value:function value(e){try{this.currentEvent=e,n.value.call(this,e)}finally{this.currentEvent=null}}})}],Object.getOwnPropertyDescriptor(i.prototype,"handleKeydown"),i.prototype),i),L=function NullListener(){},B=function(){function FocusRegionProvider(){var e=this;l()(this,FocusRegionProvider),this.counter=new g(0),this.shortcuts=new k,this.regionsByName={},this.regionsByPosition=[],this.helpListener=L,this.debug=!1,this.handleKeyboardEvent=function(t){e.shortcuts.handleKeyboardEvent(t)},this.highlightRegion=function(t){return function(){if("next"!==t&&"prev"!==t)throw new TypeError("Invalid direction: ".concat(t));if(e.shouldSendFocusToAddressBar(t))return e.counter.reset(),{};if(e.counter.value>-1){var n=e.regionsByPosition[e.counter.value];n&&e.regionsByName[n].blur()}"next"===t?e.counter.increment():"prev"===t&&e.counter.decrement();var i=e.regionsByPosition[e.counter.value];return i&&e.regionsByName[i].focus(),{preventDefault:!0,stopPropagation:!0}}},this.showHelpDialog=function(){e.helpListener("show")},this.hideHelpDialog=function(){e.helpListener("hide")},this.shortcuts.handle("F6",this.highlightRegion("next")),this.shortcuts.handle("Shift+F6",this.highlightRegion("prev")),this.shortcuts.handle("Meta+Shift+F5",this.showHelpDialog),this.shortcuts.handle("Ctrl+Shift+F5",this.showHelpDialog)}return d()(FocusRegionProvider,[{key:"ready",value:function ready(){return Promise.resolve(this)}},{key:"addHelpListener",value:function addHelpListener(e){"function"==typeof e&&(this.helpListener=e)}},{key:"removeHelpListener",value:function removeHelpListener(e){e===this.helpListener&&(this.helpListener=L)}},{key:"addRegion",value:function addRegion(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(e in this.regionsByName)return this.regionsByName[e];this.debug&&window.console.log("adding region: '".concat(e,"' @").concat(n));var i=function getRegionPosition(){return t.regionsByPosition.indexOf(e)},r=new p(e,i);return this.regionsByName=c()(c()({},this.regionsByName),{},u()({},e,r)),n<0?this.regionsByPosition=[].concat(o()(this.regionsByPosition),[e]):void 0!==this.regionsByPosition[n]?this.regionsByPosition.splice(n,0,e):this.regionsByPosition[n]=e,this.counter=new g(this.regionsByPosition.length),r}},{key:"removeRegion",value:function removeRegion(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.name,i=e.position;n in this.regionsByName&&this.regionsByName[n]===e&&(e.clearListeners(),delete this.regionsByName[n],t?this.regionsByPosition=this.regionsByPosition.filter((function(e){return e!==n})):this.regionsByPosition[i]=void 0,this.counter=new g(this.regionsByPosition.length))}},{key:"hasRegion",value:function hasRegion(e){return e in this.regionsByName}},{key:"getRegionNames",value:function getRegionNames(){return[].concat(this.regionsByPosition)}},{key:"shouldSendFocusToAddressBar",value:function shouldSendFocusToAddressBar(e){var t=Object(y.a)()||Object(y.b)(),n=this.counter,i=n.value,r=n.max;return t&&(i===r&&"next"===e)}}]),FocusRegionProvider}();B.getInstance=v.providerUtil.getSingletonFunction(B)}}]);
//# sourceMappingURL=private/focus-region-chunk.js.map