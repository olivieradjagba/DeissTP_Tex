(window["webpackJsonp-pdfverbs-web"]=window["webpackJsonp-pdfverbs-web"]||[]).push([[1],{DnId:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return x}));var n=r("jQsN"),s=r.n(n),a=r("butC"),c=r.n(a),o=r("+lnk"),l=r("qDLo"),u=r("pukD"),i=r("3v9k"),p=r("Ea6J"),d=r("qdzF"),f=r("Jo/A"),b=r("ip5t"),v=function(){var e=c()(s.a.mark((function _callee(e){var t,n,a;return s.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e;case 2:return t=s.sent,s.next=5,r.e(80).then(r.bind(null,"2sKE"));case 5:return n=s.sent,a=n.default,s.abrupt("return",new a(t));case 8:case"end":return s.stop()}}),_callee)})));return function getErrorUtil(t){return e.apply(this,arguments)}}(),g=function(){var e=c()(s.a.mark((function _callee2(e){var t,r,n;return s.a.wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:if(t=e,e.assetUploadPromise||e.assetForOperation){s.next=7;break}if(!e.childJobIds.length){s.next=7;break}return s.next=5,o.providers["lifecycle-progress"]();case 5:r=s.sent,t=r.getJobById(e.childJobIds[0]);case 7:return s.next=9,t.assetUploadPromise;case 9:if(s.t1=s.sent,s.t1){s.next=12;break}s.t1=t.assetForOperation;case 12:if(s.t0=s.t1,s.t0){s.next=15;break}s.t0={};case 15:return n=s.t0,s.abrupt("return",n.inputFile||n);case 17:case"end":return s.stop()}}),_callee2)})));return function getAssetInJob(t){return e.apply(this,arguments)}}(),x=function(){var e=c()(s.a.mark((function _callee3(e,t,r,n,a){var c,x,h,y,k,w,m,_,E,C,O,I,J,S,j,P=arguments;return s.a.wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:return c=P.length>5&&void 0!==P[5]?P[5]:{},s.next=3,o.providers["lifecycle-progress"]();case 3:return x=s.sent,s.next=6,o.providers["lifecycle-bootstrap"]();case 6:if(h=s.sent,y=r.parentJobId,k=x.getJobById(y),w=k.childJobIds,m=k.uncProgressEntry,_=k.onModalClose,!((!y||1===w.length)&&t!==b.a)){s.next=22;break}return s.next=14,h.reportErrorsToLifecycleProgress(t,a,r,c);case 14:if(!m){s.next=19;break}return s.next=17,o.providers.progress();case 17:s.sent.removeProgressEntry(m);case 19:_&&_(),s.next=52;break;case 22:return e||(e=new i.b(i.a.workflows.acrobat,t)),s.next=25,g(r);case 25:return E=s.sent,C=Object(i.c)([E])||{},a.code===f.n&&c.pageCount?C.page_count=Object(i.g)(c.pageCount):a.code===f.h&&c.opCount?C.page_count=Object(i.g)(c.opCount):c&&c.connectorType&&(C.source=c.connectorType),s.next=30,Object(p.d)(t);case 30:if(O=s.sent,s.t0=O.clickContext,s.t0){s.next=39;break}if(s.t1=O.getClickContext,!s.t1){s.next=38;break}return s.next=37,O.getClickContext();case 37:s.t1=s.sent;case 38:s.t0=s.t1;case 39:return I=s.t0,J=O.verb,e.sendErrorEvent(t,a,{source:{click_context:I},verb:{name:J},content:C}),s.next=44,v(n);case 44:return S=s.sent,s.next=47,S.getErrorInfo(r,a,c);case 47:return j=s.sent,S.showErrToast(j.message),x.updateJob({jobId:r.jobId,stage:u.a.ERROR,status:l.a.DONE,progress:0}),s.next=52,Object(d.a)(y);case 52:case"end":return s.stop()}}),_callee3)})));return function reportErrorOrToast(t,r,n,s,a){return e.apply(this,arguments)}}()},qdzF:function(e,t,r){"use strict";r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return y})),r.d(t,"c",(function(){return _}));var n=r("prSB"),s=r.n(n),a=r("g4DW"),c=r.n(a),o=r("jQsN"),l=r.n(o),u=r("butC"),i=r.n(u),p=r("+lnk"),d=r("hNEK"),f=r("qDLo"),b=r("pukD"),v=r("DnId"),g=r("3v9k"),x=function(){var e=i()(l.a.mark((function _callee(e){var t;return l.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.providers.selection();case 2:return t=r.sent,r.abrupt("return",t.registerSelection(e));case 4:case"end":return r.stop()}}),_callee)})));return function getSelectionProvider(t){return e.apply(this,arguments)}}(),h=function(){var e=i()(l.a.mark((function _callee2(e,t,r){var n,s,a,c,o,u,i,f,b,v,h,y,k,w;return l.a.wrap((function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return n=d.a.LIFECYCLE_CONTEXT,l.next=3,p.discovery.callBootstrapMethod(e,"getFileSelectionParams",{context:n});case 3:return s=l.sent,l.next=6,p.discovery.callBootstrapMethod(e,"getUpsellParams",{context:n});case 6:if(a=l.sent,a.shouldUpsell||!s){l.next=36;break}return l.next=11,x(t);case 11:return o=l.sent,u=s.singleSelection||!1,i=s.dialogTitle||"",f=s.closeOnUpload||!1,b=s.acceptMimeTypes||[],v=s.acceptDroppedMimeTypes||[],h=s.onCancel,y=!!(null==s||null===(c=s.acceptConnectors)||void 0===c?void 0:c.length),l.prev=19,l.next=22,o.showFilePicker({initialTab:"my-computer",persistence:"transient",disableUploads:!0,dialogTitle:i,closeOnUpload:f,showErrors:!0,selectionName:t,singleSelection:u,acceptMimeTypes:b,acceptDroppedMimeTypes:v,onCancel:h,showStorageConnectors:y});case 22:if(!r){l.next=26;break}p.discovery.callBootstrapMethod(e,"executeAction",{context:n,executeCallback:function executeCallback(){}}),l.next=27;break;case 26:return l.abrupt("return",{isCanceled:!1});case 27:l.next=32;break;case 29:return l.prev=29,l.t0=l.catch(19),l.abrupt("return",{isCanceled:!0});case 32:k=0===o.selectedItems.length?o.fileObjects:o.selectedItems,w=Object(g.c)(k),new g.b(g.a.workflows.acrobat,e).sendEvent(e,g.a.types.filesSelected,null,{content:w});case 36:case"end":return l.stop()}}),_callee2,null,[[19,29]])})));return function displayFilePicker(t,r,n){return e.apply(this,arguments)}}(),y=function(){var e=i()(l.a.mark((function _callee3(e){var t,r,n,s;return l.a.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.providers["lifecycle-progress"]();case 2:if(t=a.sent,r=t.getJobById(e),null==(n=r.childJobIds)?void 0:n.length){a.next=7;break}return a.abrupt("return");case 7:s=n.map((function(e){return t.getJobById(e)})).some((function(e){return!Object.keys(e).length||e.status===f.a.DONE})),n.map((function(e){return t.getJobById(e)})).every((function(e){return!Object.keys(e).length||e.stage===b.a.ERROR}))?(r.onModalClose&&r.onModalClose(),t.updateJob({jobId:e,status:f.a.ERROR,stage:b.a.DROPZONE,navConfig:{forceReset:!0}})):s&&t.updateJob({jobId:e,status:f.a.ASSETS_VERIFIED});case 10:case"end":return a.stop()}}),_callee3)})));return function checkChildrenStatusAndUpdateParent(t){return e.apply(this,arguments)}}(),k=function(){var e=i()(l.a.mark((function _callee4(e){return l.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.discovery.loadDropinClass("lifecycle-error-state");case 2:t.sent.showToast(e,"error");case 4:case"end":return t.stop()}}),_callee4)})));return function showErrToast(t){return e.apply(this,arguments)}}(),w=function(){var e=i()(l.a.mark((function _callee5(e,t,r){var n,s,a,c,o,u,i;return l.a.wrap((function _callee5$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,p.providers["lifecycle-progress"]();case 2:return n=l.sent,l.next=5,p.discovery.callBootstrapMethod(r,"getMessage","conv.err.body.unknown");case 5:return s=l.sent,a={code:"UnknownError",message:s},c=e&&e.details&&e.details.content&&e.details.content.error||a,k(c.message),o=new g.b(g.a.workflows.acrobat,r),l.next=12,Object(v.a)(t);case 12:u=l.sent,i=Object(g.c)([u])||{},o.sendErrorEvent(r,c,{verb:{name:t.verb},content:i}),n.cancelJob(t.jobId),n.removeJob(t.jobId);case 17:case"end":return l.stop()}}),_callee5)})));return function catchChildProcessingError(t,r,n){return e.apply(this,arguments)}}(),m=function(){var e=i()(l.a.mark((function _callee7(e,t){var r,n;return l.a.wrap((function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.providers["lifecycle-progress"]();case 2:return r=e.sent,n=t.map(function(){var e=i()(l.a.mark((function _callee6(e){var t,n,s,a;return l.a.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.assetUploadPromise,n=e.assetForOperation,c.next=4,t;case 4:if(c.t0=c.sent,c.t0){c.next=7;break}c.t0=n;case 7:s=c.t0,a={jobId:e.jobId,status:s?f.a.DONE:f.a.ERROR,assetForOperation:s},r.updateJob(a),c.next=15;break;case 12:c.prev=12,c.t1=c.catch(0),w(c.t1);case 15:case"end":return c.stop()}}),_callee6,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(n);case 6:return e.next=8,y(t[0].parentJobId);case 8:case"end":return e.stop()}}),_callee7)})));return function processChildJobs(t,r){return e.apply(this,arguments)}}(),_=function(){var e=i()(l.a.mark((function _callee8(e,t,r){var n,a,o,u,i,d,b,v,g,h,y;return l.a.wrap((function _callee8$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,p.providers["lifecycle-bootstrap"]();case 2:return n=l.sent,l.next=5,p.providers["lifecycle-progress"]();case 5:return a=l.sent,l.next=8,x(r);case 8:return o=l.sent,l.t0=c.a,l.t1={},l.t2=f.a.PROCESSING,l.next=14,p.discovery.callBootstrapMethod(e,"getMessage","lifecycle.status.compressing.heading");case 14:return l.t3=l.sent,l.t4=[l.t3],l.t5=(0,l.t0)(l.t1,l.t2,l.t4),l.t6=c.a,l.t7={},l.t8=f.a.PROCESSING,l.next=22,p.discovery.callBootstrapMethod(e,"getMessage","lifecycle.status.compressing.description");case 22:return l.t9=l.sent,l.next=25,p.discovery.callBootstrapMethod(e,"getMessage","lifecycle.status.compressing.nearly.done.description");case 25:return l.t10=l.sent,l.t11=[l.t9,l.t10],l.t12=(0,l.t6)(l.t7,l.t8,l.t11),u={neverShowProgress:!0,enableUNCProgressEntry:!0,lifecycleStatusHeaderMessages:l.t5,lifecycleStatusDescriptionMessages:l.t12},i={selectionName:r,allowMultipleJobs:!0},d=[],l.next=33,n.getAssets(e,i);case 33:if(b=l.sent,v=b.selectedAssets,g=b.fileObjects,h=v.length||g.length,y=v.some((function(e){return!!e.connectorId})),o.clearSelection(),!h){l.next=45;break}return y&&a.updateJob({jobId:t,status:f.a.UPLOAD_START}),l.next=42,n.getChildJobs(e,t,b,s()(s()({},u),{},{syncToStorage:!0,neverShowProgress:!1,props:{focusOnCreate:!1,enableUNCProgressEntry:!0},status:f.a.PROCESSING}));case 42:return d=l.sent,l.next=45,m(e,d);case 45:case"end":return l.stop()}}),_callee8)})));return function processNewAssets(t,r,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=private/lifecycle-bootstrap-lifecycle-combine-settings-2-lifecycle-complete-3-lifecycle-complete-4-lifecycle-d157f886.js.map